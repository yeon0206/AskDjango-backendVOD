{% extends "blog/layout.html" %}

{% block title %}
    {{ post.title }}
{% endblock %}

{% block content %}
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <h2>{{ post.title }}</h2>
                
                {% if post.photo %}
                {% comment %} <img src="/media/{{ post.photo }}" style="max_width: 100%;" /> {% endcomment %}
                {% comment %} <img src="{{ post.photo_thumbnail.url }}" style="max_width: 100%;" /> {% endcomment %}
                <img src="{{ post.photo.url }}" style="max_width: 100%;" />
                {% endif %}

                {{ post.content | linebreaks }}
                {% comment %} {{ post.content | linebreaksbr }} {% endcomment %}
            
                <hr/>
            
                <h3>Comments</h3>
            
                <ul>
                    {% for comment in post.comment_set.all %}
                    <li>
                        {{ comment.message }}
                        <small>by {{ comment.author }}</small>
                        <small>at {{ comment.updated_at }}</small>    
                    </li>
                    {% endfor %}
                </ul>
            
                <hr/>
                <a href="{% url "blog:post_list" %}" class="btn btn-primary">글목록</a> 
                <a href="{% url "blog:post_edit" post.id %}" class="btn btn-default">글수정</a> 
                {% comment %} {% url "namespace: URL reversename " 인자 %} {% endcomment %}
                {% comment %} 인자가 없으니 안넘겨도됨 {% endcomment %}
                {% comment %} {{ post.get_absolute_url }} 도 가능{% endcomment %}
            </div>
        </div>
    </div>
    
{% endblock %}